{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\itsme.000\\\\OneDrive\\\\Skrivbord\\\\Nyheter-main\\\\client\\\\src\\\\components\\\\Article\\\\ArticleComp.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useRef } from 'react';\nimport styles from './ArticleComp.module.css';\nimport { updateArticle, deleteArticle, incrementViewCount } from '../../dbUtils/articleActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport EditingArticleFields from '../editArticle/EditingArticleFields';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ArticleComp(props) {\n  _s();\n\n  var parse = require('html-react-parser');\n\n  let {\n    author,\n    categories,\n    dateAdded,\n    id,\n    images,\n    mainText,\n    shortDescription,\n    title,\n    views,\n    dateUpdated\n  } = props.article;\n  const stateUser = useSelector(state => state.User);\n  const [isEditing, setIsEditing] = useState(false);\n  const [opened, setOpened] = useState(false);\n  const [viewCounted, setViewCounted] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const articleElem = useRef(null);\n  const newEditedArticle = {\n    title: title,\n    shortDescription: shortDescription,\n    mainText: mainText,\n    images: images,\n    categories: categories,\n    author: author,\n    dateAdded: dateAdded,\n    dateUpdated: dateUpdated,\n    views: views,\n    id: id\n  };\n\n  function switchOpened() {\n    if (!opened && views) {\n      setTimeout(() => {\n        articleElem.current.scrollIntoView();\n      }, 35);\n    }\n\n    if (!viewCounted && !opened && views !== undefined) {\n      setViewCounted(true); // dispatch({type: \"incrementViewCount\", data: id});\n\n      incrementViewCount({\n        id: id\n      });\n    }\n\n    if (opened) {\n      setIsEditing(false);\n    }\n\n    setOpened(!opened);\n  }\n\n  function switchEditing() {\n    setIsEditing(!isEditing);\n  }\n\n  function handleEdit(e) {\n    newEditedArticle[e.target.name] = e.target.value;\n  }\n\n  function handleRadioEdit(e) {\n    // we get here when one of the checkboxes is checked or unchecked\n    // we need to update the categories array in the newEditedArticle object\n    // add all categories that are in the article\n    let newCategories = categories; // if the checkbox is checked, add it to the newCategories array\n\n    if (e.target.checked) {\n      newCategories.push(String(e.target.value));\n    } // if the checkbox is unchecked, remove it from the newCategories array\n    else {\n      newCategories = newEditedArticle.categories.filter(category => category !== String(e.target.value));\n    } // update the newEditedArticle object\n\n\n    newEditedArticle.categories = newCategories;\n  }\n\n  function sendEdit() {\n    updateArticle(newEditedArticle);\n    dispatch({\n      type: \"updateArticle\",\n      data: newEditedArticle\n    });\n    switchEditing();\n  }\n\n  let categoriesMapped = categories === null || categories === void 0 ? void 0 : categories.map((category, index) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.articleTag,\n      onClick: () => {\n        navigate('/Kategori/' + category);\n      },\n      children: category\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 12\n    }, this);\n  }); // Format dateAdded into actual time, not just string code\n\n  let dateFormatted = \"Uppladdad: \" + new Date(dateAdded).toLocaleDateString() + \" Kl:\" + new Date(dateAdded).toLocaleTimeString();\n\n  if (dateUpdated) {\n    // If the article has been updated, show the dateUpdated instead\n    dateFormatted = \"Redigerad: \" + new Date(dateUpdated).toLocaleDateString() + \" Kl:\" + new Date(dateUpdated).toLocaleTimeString();\n  } // Format code in mainText and shortDescription into actual code\n\n\n  var mainTextParsed;\n\n  if (mainText) {\n    mainTextParsed = parse(mainText);\n  }\n\n  var shortDescParsed;\n\n  if (shortDescription) {\n    shortDescParsed = parse(shortDescription);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.article,\n    onClick: switchOpened,\n    ref: articleElem,\n    children: props.smallVersion && !opened ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.smallArticle,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.articleHeader,\n        children: title ? title : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.articleContent,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.shortDescription,\n          children: shortDescParsed ? shortDescParsed : shortDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.imageContainer,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.articleImg,\n            src: images ? images[0] : \"\",\n            alt: title ? title : \"\",\n            loading: \"lazy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.largeArticle} ${opened ? styles.openedArticle : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.imageContainer,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.articleImg,\n          src: images ? images[0] : \"\",\n          alt: title ? title : \"\",\n          loading: \"lazy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.articleContent,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: styles.articleHeader,\n          children: title ? title : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), opened ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: isEditing ? /*#__PURE__*/_jsxDEV(EditingArticleFields, {\n            article: newEditedArticle,\n            handleEdit: handleEdit,\n            handleRadioEdit: handleRadioEdit,\n            sendEdit: sendEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [stateUser.role === \"admin\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.adminButtons,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: styles.editArticleBtn,\n                onClick: e => {\n                  e.stopPropagation();\n                  switchEditing();\n                },\n                children: \"\\u270F\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: styles.deleteArticleBtn,\n                onClick: () => {\n                  // eslint-disable-next-line no-restricted-globals\n                  if (confirm(\"Are you sure you want to delete this article?\")) {\n                    deleteArticle({\n                      id: id\n                    });\n                    dispatch({\n                      type: \"deleteArticle\",\n                      data: id\n                    });\n                  }\n                },\n                children: \"\\uD83D\\uDDD1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 23\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.mainText,\n              children: !stateUser.stillPaying ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.noPayingMainText,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.noPayingMainTextShadow,\n                    children: \" \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 31\n                  }, this), shortDescription]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: styles.subscribeNotif,\n                  children: [\"Bli medlem idag f\\xF6r endast 2kr/dagen! \", /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/prenumerera\",\n                    children: \"Prenumerera\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 105\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: mainTextParsed ? mainTextParsed : mainText\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Artikelf\\xF6rfattare: \", author]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 23\n            }, this), dateAdded ? /*#__PURE__*/_jsxDEV(\"p\", {\n              children: dateFormatted\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 25\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Uppladdad: \", new Date().toLocaleDateString(), \" Kl:\", new Date().toLocaleTimeString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 25\n            }, this), views ? /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [views, \" visningar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 25\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"0 visningar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.shortDescription,\n          children: shortDescParsed ? shortDescParsed : shortDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.articleTags,\n          children: categoriesMapped\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ArticleComp, \"za5dXPm+e1X8zqwSHMGq5tLe5Vc=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = ArticleComp;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleComp\");","map":{"version":3,"names":["useState","useRef","styles","updateArticle","deleteArticle","incrementViewCount","useDispatch","useSelector","Link","useNavigate","EditingArticleFields","ArticleComp","props","parse","require","author","categories","dateAdded","id","images","mainText","shortDescription","title","views","dateUpdated","article","stateUser","state","User","isEditing","setIsEditing","opened","setOpened","viewCounted","setViewCounted","dispatch","navigate","articleElem","newEditedArticle","switchOpened","setTimeout","current","scrollIntoView","undefined","switchEditing","handleEdit","e","target","name","value","handleRadioEdit","newCategories","checked","push","String","filter","category","sendEdit","type","data","categoriesMapped","map","index","articleTag","dateFormatted","Date","toLocaleDateString","toLocaleTimeString","mainTextParsed","shortDescParsed","smallVersion","smallArticle","articleHeader","articleContent","imageContainer","articleImg","largeArticle","openedArticle","role","adminButtons","editArticleBtn","stopPropagation","deleteArticleBtn","confirm","stillPaying","noPayingMainText","noPayingMainTextShadow","subscribeNotif","articleTags"],"sources":["C:/Users/itsme.000/OneDrive/Skrivbord/Nyheter-main/client/src/components/Article/ArticleComp.jsx"],"sourcesContent":["import { useState, useRef } from 'react';\nimport styles from './ArticleComp.module.css'\nimport { updateArticle, deleteArticle, incrementViewCount } from '../../dbUtils/articleActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\n\nimport EditingArticleFields from '../editArticle/EditingArticleFields';\n\nexport default function ArticleComp(props) {\n  var parse = require('html-react-parser');\n  let {author, categories, dateAdded, id, images, mainText, shortDescription, title, views, dateUpdated} = props.article;\n\n  const stateUser = useSelector(state => state.User);\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [opened, setOpened] = useState(false);\n  const [viewCounted, setViewCounted] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const articleElem = useRef(null);\n\n  const newEditedArticle = {\n    title: title,\n    shortDescription: shortDescription,\n    mainText: mainText,\n    images: images,\n    categories: categories,\n    author: author,\n    dateAdded: dateAdded,\n    dateUpdated: dateUpdated,\n    views: views,\n    id: id\n  }\n\n  function switchOpened(){\n    if(!opened && views) {\n      setTimeout(() => {\n        articleElem.current.scrollIntoView();\n      }, 35);\n    }\n\n    if(!viewCounted && !opened && views !== undefined) {\n      setViewCounted(true);\n      // dispatch({type: \"incrementViewCount\", data: id});\n      incrementViewCount({id: id});\n    }\n\n    if(opened) {\n      setIsEditing(false);\n    }\n\n    setOpened(!opened);\n  }\n\n  function switchEditing(){\n    setIsEditing(!isEditing);\n  }\n\n  function handleEdit(e) {\n    newEditedArticle[e.target.name] = e.target.value;\n  }\n\n  function handleRadioEdit(e) {\n    // we get here when one of the checkboxes is checked or unchecked\n    // we need to update the categories array in the newEditedArticle object\n    // add all categories that are in the article\n    let newCategories = categories;\n    // if the checkbox is checked, add it to the newCategories array\n    if(e.target.checked) {\n      newCategories.push(String(e.target.value));\n    }\n    // if the checkbox is unchecked, remove it from the newCategories array\n    else {\n      newCategories = newEditedArticle.categories.filter(category => category !== String(e.target.value));\n    }\n    // update the newEditedArticle object\n    newEditedArticle.categories = newCategories;\n  }\n\n  function sendEdit() {\n    updateArticle(newEditedArticle);\n    dispatch({type: \"updateArticle\", data: newEditedArticle});\n    switchEditing();\n  }\n\n  let categoriesMapped = categories?.map((category, index) => {\n    return <div className={styles.articleTag} onClick={()=>{navigate('/Kategori/' + category)}} key={index}>{category}</div>\n  })\n\n  // Format dateAdded into actual time, not just string code\n  let dateFormatted = \"Uppladdad: \" + new Date(dateAdded).toLocaleDateString() + \" Kl:\" + new Date(dateAdded).toLocaleTimeString();\n  if(dateUpdated) {\n    // If the article has been updated, show the dateUpdated instead\n    dateFormatted = \"Redigerad: \" + new Date(dateUpdated).toLocaleDateString() + \" Kl:\" + new Date(dateUpdated).toLocaleTimeString();\n  }\n\n  // Format code in mainText and shortDescription into actual code\n  var mainTextParsed;\n  if(mainText) {\n    mainTextParsed = parse(mainText);\n  }\n  var shortDescParsed;\n  if(shortDescription) {\n    shortDescParsed = parse(shortDescription);\n  }\n\n  return (\n    <div className={styles.article} onClick={switchOpened} ref={articleElem}>\n      {props.smallVersion && !opened ? (\n        <div className={styles.smallArticle}>\n          <h2 className={styles.articleHeader}>{title ? title : \"\"}</h2>\n\n          <div className={styles.articleContent}>\n\n            <div className={styles.shortDescription}>\n              {shortDescParsed ? shortDescParsed : shortDescription}\n            </div>\n            <div className={styles.imageContainer}>\n              <img className={styles.articleImg} src={images ? images[0] : \"\"} alt={title ? title : \"\"} loading=\"lazy\" />\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className={`${styles.largeArticle} ${opened ? styles.openedArticle : \"\"}`}>\n          <div className={styles.imageContainer}>\n            <img className={styles.articleImg} src={images ? images[0] : \"\"} alt={title ? title : \"\"} loading=\"lazy\" />\n          </div>\n\n          <div className={styles.articleContent}>\n\n            <h2 className={styles.articleHeader}>{title ? title : \"\"}</h2>\n\n            {opened ? (\n              <>\n              {isEditing ? (\n                  <EditingArticleFields article={newEditedArticle} handleEdit={handleEdit} handleRadioEdit={handleRadioEdit} sendEdit={sendEdit} />\n                ) : (\n                  <>\n                    { stateUser.role === \"admin\" ? (\n                      <div className={styles.adminButtons}>\n                        <button className={styles.editArticleBtn} onClick={(e)=> {\n                          e.stopPropagation();\n                          switchEditing();\n                        }}>‚úèÔ∏è</button>\n                        <button className={styles.deleteArticleBtn} onClick={() => {\n                          // eslint-disable-next-line no-restricted-globals\n                          if(confirm(\"Are you sure you want to delete this article?\")) {\n                            deleteArticle({id: id})\n                            dispatch({type:\"deleteArticle\", data: id})\n                          }\n                        }}>üóë</button>\n                      </div>\n                    ) : \"\"}\n                      <div className={styles.mainText}>\n                        { !stateUser.stillPaying ? (\n                          <>\n                            <div className={styles.noPayingMainText}>\n                              <div className={styles.noPayingMainTextShadow}> </div>\n                              {shortDescription}\n                            </div>\n                            <h4 className={styles.subscribeNotif}>Bli medlem idag f√∂r endast 2kr/dagen! <Link to=\"/prenumerera\">Prenumerera</Link></h4>\n                          </>\n                        ) : (\n                          <>\n                            {mainTextParsed ? mainTextParsed : mainText}\n                          </>\n                        )}\n                      </div>\n                      <p>Artikelf√∂rfattare: {author}</p>\n                      {dateAdded ? (\n                        <p>{dateFormatted}</p>\n                      ) : (\n                        <p>Uppladdad: {new Date().toLocaleDateString()} Kl:{new Date().toLocaleTimeString()}</p>\n                      )}\n                      \n                      {views ? (\n                        <h4>{views} visningar</h4>\n                      ) : (\n                        <p>0 visningar</p>\n                      )}\n                  </>\n                )}\n              </>\n            ) : (\n              <div className={styles.shortDescription}>\n                {shortDescParsed ? shortDescParsed : shortDescription}\n              </div>\n            )}\n\n            <div className={styles.articleTags}>\n              {categoriesMapped}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}